#{extends 'main.html' /}
#{set title:'Editar Vaga' /}

 #{form @Vagas.save(object.id), enctype:'multipart/form-data' , class:'form-horizontal'}
        <fieldset>
			<legend>
				Vaga
				<div class="voltar"><a href="@{Vagas.list(object.apartamento.id)}" class="btn btn-link">Voltar</a></div>
			</legend>
			
			<div class="form-group">
				<label class="col-lg-2">Propriet&aacute;rio</label>
				<div class="col-lg-3">${object.apartamento.getProprietario().nomeCompleto}</div>
			</div>
			
			<div class="form-group">
				<label class="col-lg-2">Bloco</label>
				<div class="col-lg-3">${object.apartamento.bloco.bloco} </div>
			</div>
			<div class="form-group">
				<label class="col-lg-2">Apartamento</label>
				<div class="col-lg-3">${object.apartamento.numero}</div>
			</div>
			
			
			
			<div class="form-group">
				<label for="local"  class="col-lg-2 control-label">Local</label>
				#{field 'object.local'}
					<div class="col-lg-3">
						<input type="text" name="object.local" value="${object.local}"  class="${field.errorClass} input-lg form-control"/>
						#{ifError field.name}
        					<span class="error">${field.error.raw()}</span>
    					#{/ifError}
					</div>
				#{/field}
			</div>
			<div class="form-group">				
				<label for="numero"  class="col-lg-2 control-label">N&ordm;</label>
				#{field 'object.numeroVaga'}
					<div class="col-lg-3">
						<input type="text" name="object.numeroVaga" value="${object.numeroVaga}"  class="${field.errorClass} input-lg form-control"/>
						#{ifError field.name}
        					<span class="error">${field.error.raw()}</span>
    					#{/ifError}
					</div>
				#{/field}
			</div>
			<div class="form-group">
				<label for="observacao"  class="col-lg-2 control-label">Observa&ccedil;&atilde;o</label>
				<div class="col-lg-3">
					<textarea rows="5" cols="10" name="object.observacao" value="${object.observacao}" class="input-lg form-control"></textarea>
				</div>
			</div>
			<div class="form-group">
				<div class="col-lg-3">Alugada para</div>				
			</div>
			<div class="form-group">
				<label for="bloco"  class="col-lg-2 control-label">Bloco</label>
				<div class="col-lg-3">
						
						<select id="bloco" name="bloco" class="input-lg form-control">
							<option value="" />
							#{list items:blocos, as:'bloco'}
								#{if bloco.id.toString() == params.bloco}
									<option value="${bloco.id}" selected="selected">${bloco.bloco}</option>
								#{/if}
								#{else}
									<option value="${bloco.id}">${bloco.bloco}</option>
								#{/else}
							#{/list}
						</select>
				
			</div>
			<div class="form-group">
				<label for="apartamento"  class="col-lg-2 control-label">Apartamento</label>
				<div class="col-lg-3">				
					<select id="apartamento" name="object.alugadoPara.id" class="input-lg form-control">
						<option value="" />
						#{list items:apartamentos, as:'apartamento'}
							#{if apartamento.id.toString() == object.apartamento.id }
								<option value="${apartamento.id}" selected="selected">${apartamento.numero}</option>
							#{/if}
							#{else}
								<option value="${apartamento.id}">${apartamento.numero}</option>
							#{/else}
						#{/list}
					</select>
				</div>
			</div>
			
			<div class="form-group">
				<div class="col-lg-offset-2 col-lg-10">
					<input type="submit" name="_save" value="Salvar" class="btn btn-primary btn-lg" />
					<input type="submit" name="_saveAndContinue" value="Salvar e Continuar edi&ccedil;&atilde;o" class="btn btn-primary btn-lg" />
				</div>	
			</div>
			
		</fieldset>
		
	
#{/form}